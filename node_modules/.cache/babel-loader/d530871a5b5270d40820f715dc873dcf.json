{"ast":null,"code":"var _jsxFileName = \"E:\\\\D\\\\admin\\\\src\\\\containers\\\\Dashboard.js\";\nimport { Header, NotificationCenter, Sidebar, Workspace } from \"../components\";\nimport React, { useState } from \"react\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport FormatTextdirectionLToRIcon from \"@material-ui/icons/FormatTextdirectionLToR\";\nimport FormatTextdirectionRToLIcon from \"@material-ui/icons/FormatTextdirectionRToL\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport { MobileBreakpoint } from \"../styleVariables\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport SpeedDial from \"@material-ui/lab/SpeedDial\";\nimport SpeedDialAction from \"@material-ui/lab/SpeedDialAction\";\nimport SpeedDialIcon from \"@material-ui/lab/SpeedDialIcon\";\nimport WbSunnyIcon from \"@material-ui/icons/WbSunny\";\nimport classNames from \"classnames\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport routes from \"../routes\";\nimport { useAppState } from \"../components/AppProvider/AppProvider\";\nimport useMountEffect from \"../mountEffect\";\nconst useStyles = makeStyles(theme => ({\n  panel: {\n    position: \"relative\",\n    overflow: \"hidden\",\n    width: \"100%\",\n    maxWidth: \"100%\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"auto\",\n      minHeight: \"calc(100vh - 64px)\",\n      paddingTop: \"64px\"\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      height: \"auto\",\n      minHeight: \"calc(100vh - 56px)\",\n      paddingTop: \"56px\"\n    },\n    [theme.breakpoints.up(\"sm\")]: {\n      height: \"calc(100vh - 64px)\"\n    },\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexGrow: 1\n  },\n  speedDial: {\n    position: \"absolute\",\n    bottom: theme.spacing(1) * 2,\n    right: theme.spacing(1) * 3\n  }\n}));\n\nconst Dashboard = ({\n  history\n}) => {\n  const classes = useStyles();\n  const [state, dispatch] = useAppState();\n  const [opened, setOpened] = useState(true);\n  const [notificationsOpen, setNotificationsOpen] = useState(false);\n  const [openSpeedDial, setOpenSpeedDial] = useState(false);\n  const mediaMatcher = matchMedia(`(max-width: ${MobileBreakpoint}px)`);\n\n  const resizeDispatch = () => {\n    if (typeof Event === \"function\") {\n      window.dispatchEvent(new Event(\"resize\"));\n    } else {\n      const evt = window.document.createEvent(\"UIEvents\");\n      evt.initUIEvent(\"resize\", true, false, window, 0);\n      window.dispatchEvent(evt);\n    }\n  };\n\n  const handleDrawerToggle = () => {\n    setOpened(!opened);\n    resizeDispatch();\n  };\n\n  const handleNotificationToggle = () => setNotificationsOpen(!notificationsOpen);\n\n  const handleFullscreenToggle = () => {\n    const element = document.querySelector(\"#root\");\n    const isFullscreen = document.webkitIsFullScreen || document.mozFullScreen || false;\n\n    element.requestFullScreen = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || function () {\n      return false;\n    };\n\n    document.cancelFullScreen = document.cancelFullScreen || document.webkitCancelFullScreen || document.mozCancelFullScreen || function () {\n      return false;\n    };\n\n    isFullscreen ? document.cancelFullScreen() : element.requestFullScreen();\n  };\n\n  const handleSpeedDialOpen = () => setOpenSpeedDial(true);\n\n  const handleSpeedDialClose = () => setOpenSpeedDial(false);\n\n  const getRoutes = /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }, routes.items.map((item, index) => item.type === \"external\" ? /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: item.path,\n    component: item.component,\n    name: item.name,\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }) : item.type === \"submenu\" ? item.children.map(subItem => /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: `${item.path}${subItem.path}`,\n    component: subItem.component,\n    name: subItem.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: item.path,\n    component: item.component,\n    name: item.name,\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/404\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }));\n  useMountEffect(() => {\n    if (mediaMatcher.matches) setOpened(false);\n    mediaMatcher.addListener(match => {\n      setTimeout(() => {\n        if (match.matches) setOpened(false);else setOpened(true);\n      }, 300);\n    });\n    const unlisten = history.listen(() => {\n      if (mediaMatcher.matches) setOpened(false);\n      document.querySelector(\"#root > div > main\").scrollTop = 0;\n    });\n    return () => {\n      unlisten();\n      mediaMatcher.removeListener(match => {\n        setTimeout(() => {\n          if (match.matches) setOpened(false);else setOpened(true);\n        }, 300);\n      });\n    };\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    logoAltText: \"SSSTUTTER ADMIN\",\n    logo: `${process.env.PUBLIC_URL}/static/images/logo.svg`,\n    toggleDrawer: handleDrawerToggle,\n    toogleNotifications: handleNotificationToggle,\n    toggleFullscreen: handleFullscreenToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(classes.panel, \"theme-dark\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    routes: routes.items,\n    opened: opened,\n    toggleDrawer: handleDrawerToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Workspace, {\n    opened: opened,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, getRoutes), /*#__PURE__*/React.createElement(NotificationCenter, {\n    notificationsOpen: notificationsOpen,\n    toogleNotifications: handleNotificationToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Hidden, {\n    xsDown: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SpeedDial, {\n    ariaLabel: \"Settings\",\n    className: classes.speedDial,\n    icon: /*#__PURE__*/React.createElement(SpeedDialIcon, {\n      icon: /*#__PURE__*/React.createElement(SettingsIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 38\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }\n    }),\n    onBlur: handleSpeedDialClose,\n    onClose: handleSpeedDialClose,\n    onFocus: handleSpeedDialOpen,\n    onMouseEnter: handleSpeedDialOpen,\n    onMouseLeave: handleSpeedDialClose,\n    open: openSpeedDial,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SpeedDialAction, {\n    icon: /*#__PURE__*/React.createElement(WbSunnyIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 19\n      }\n    }),\n    tooltipTitle: \"Toggle light/dark theme\",\n    onClick: () => dispatch({\n      type: \"type\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(SpeedDialAction, {\n    icon: state.direction === \"rtl\" ? /*#__PURE__*/React.createElement(FormatTextdirectionLToRIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }\n    }) : /*#__PURE__*/React.createElement(FormatTextdirectionRToLIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }\n    }),\n    tooltipTitle: \"Toggle LTR/RTL direction\",\n    onClick: () => dispatch({\n      type: \"direction\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default Dashboard;","map":{"version":3,"sources":["E:/D/admin/src/containers/Dashboard.js"],"names":["Header","NotificationCenter","Sidebar","Workspace","React","useState","Redirect","Route","Switch","FormatTextdirectionLToRIcon","FormatTextdirectionRToLIcon","Hidden","MobileBreakpoint","SettingsIcon","SpeedDial","SpeedDialAction","SpeedDialIcon","WbSunnyIcon","classNames","makeStyles","routes","useAppState","useMountEffect","useStyles","theme","panel","position","overflow","width","maxWidth","breakpoints","down","height","minHeight","paddingTop","up","display","flexDirection","flexGrow","speedDial","bottom","spacing","right","Dashboard","history","classes","state","dispatch","opened","setOpened","notificationsOpen","setNotificationsOpen","openSpeedDial","setOpenSpeedDial","mediaMatcher","matchMedia","resizeDispatch","Event","window","dispatchEvent","evt","document","createEvent","initUIEvent","handleDrawerToggle","handleNotificationToggle","handleFullscreenToggle","element","querySelector","isFullscreen","webkitIsFullScreen","mozFullScreen","requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","cancelFullScreen","webkitCancelFullScreen","mozCancelFullScreen","handleSpeedDialOpen","handleSpeedDialClose","getRoutes","items","map","item","index","type","path","component","name","children","subItem","matches","addListener","match","setTimeout","unlisten","listen","scrollTop","removeListener","process","env","PUBLIC_URL","direction"],"mappings":"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","sourcesContent":["import { Header, NotificationCenter, Sidebar, Workspace } from \"../components\";\nimport React, { useState } from \"react\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\n\nimport FormatTextdirectionLToRIcon from \"@material-ui/icons/FormatTextdirectionLToR\";\nimport FormatTextdirectionRToLIcon from \"@material-ui/icons/FormatTextdirectionRToL\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport { MobileBreakpoint } from \"../styleVariables\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport SpeedDial from \"@material-ui/lab/SpeedDial\";\nimport SpeedDialAction from \"@material-ui/lab/SpeedDialAction\";\nimport SpeedDialIcon from \"@material-ui/lab/SpeedDialIcon\";\nimport WbSunnyIcon from \"@material-ui/icons/WbSunny\";\nimport classNames from \"classnames\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport routes from \"../routes\";\nimport { useAppState } from \"../components/AppProvider/AppProvider\";\nimport useMountEffect from \"../mountEffect\";\n\nconst useStyles = makeStyles(theme => ({\n  panel: {\n    position: \"relative\",\n    overflow: \"hidden\",\n    width: \"100%\",\n    maxWidth: \"100%\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"auto\",\n      minHeight: \"calc(100vh - 64px)\",\n      paddingTop: \"64px\"\n    },\n    [theme.breakpoints.down(\"xs\")]: {\n      height: \"auto\",\n      minHeight: \"calc(100vh - 56px)\",\n      paddingTop: \"56px\"\n    },\n    [theme.breakpoints.up(\"sm\")]: {\n      height: \"calc(100vh - 64px)\"\n    },\n    display: \"flex\",\n    flexDirection: \"row\",\n    flexGrow: 1\n  },\n  speedDial: {\n    position: \"absolute\",\n    bottom: theme.spacing(1) * 2,\n    right: theme.spacing(1) * 3\n  }\n}));\n\nconst Dashboard = ({ history }) => {\n  const classes = useStyles();\n  const [state, dispatch] = useAppState();\n  const [opened, setOpened] = useState(true);\n  const [notificationsOpen, setNotificationsOpen] = useState(false);\n  const [openSpeedDial, setOpenSpeedDial] = useState(false);\n\n  const mediaMatcher = matchMedia(`(max-width: ${MobileBreakpoint}px)`);\n\n  const resizeDispatch = () => {\n    if (typeof Event === \"function\") {\n      window.dispatchEvent(new Event(\"resize\"));\n    } else {\n      const evt = window.document.createEvent(\"UIEvents\");\n      evt.initUIEvent(\"resize\", true, false, window, 0);\n      window.dispatchEvent(evt);\n    }\n  };\n\n  const handleDrawerToggle = () => {\n    setOpened(!opened);\n    resizeDispatch();\n  };\n\n  const handleNotificationToggle = () =>\n    setNotificationsOpen(!notificationsOpen);\n\n  const handleFullscreenToggle = () => {\n    const element = document.querySelector(\"#root\");\n    const isFullscreen =\n      document.webkitIsFullScreen || document.mozFullScreen || false;\n\n    element.requestFullScreen =\n      element.requestFullScreen ||\n      element.webkitRequestFullScreen ||\n      element.mozRequestFullScreen ||\n      function() {\n        return false;\n      };\n    document.cancelFullScreen =\n      document.cancelFullScreen ||\n      document.webkitCancelFullScreen ||\n      document.mozCancelFullScreen ||\n      function() {\n        return false;\n      };\n    isFullscreen ? document.cancelFullScreen() : element.requestFullScreen();\n  };\n\n  const handleSpeedDialOpen = () => setOpenSpeedDial(true);\n\n  const handleSpeedDialClose = () => setOpenSpeedDial(false);\n\n  const getRoutes = (\n    <Switch>\n      {routes.items.map((item, index) =>\n        item.type === \"external\" ? (\n          <Route\n            exact\n            path={item.path}\n            component={item.component}\n            name={item.name}\n            key={index}\n          />\n        ) : item.type === \"submenu\" ? (\n          item.children.map(subItem => (\n            <Route\n              exact\n              path={`${item.path}${subItem.path}`}\n              component={subItem.component}\n              name={subItem.name}\n            />\n          ))\n        ) : (\n          <Route\n            exact\n            path={item.path}\n            component={item.component}\n            name={item.name}\n            key={index}\n          />\n        )\n      )}\n      <Redirect to=\"/404\" />\n    </Switch>\n  );\n\n  useMountEffect(() => {\n    if (mediaMatcher.matches) setOpened(false);\n    mediaMatcher.addListener(match => {\n      setTimeout(() => {\n        if (match.matches) setOpened(false);\n        else setOpened(true);\n      }, 300);\n    });\n\n    const unlisten = history.listen(() => {\n      if (mediaMatcher.matches) setOpened(false);\n      document.querySelector(\"#root > div > main\").scrollTop = 0;\n    });\n\n    return () => {\n      unlisten();\n      mediaMatcher.removeListener(match => {\n        setTimeout(() => {\n          if (match.matches) setOpened(false);\n          else setOpened(true);\n        }, 300);\n      });\n    };\n  });\n\n  return (\n    <>\n      <Header\n        logoAltText=\"SSSTUTTER ADMIN\"\n        logo={`${process.env.PUBLIC_URL}/static/images/logo.svg`}\n        toggleDrawer={handleDrawerToggle}\n        toogleNotifications={handleNotificationToggle}\n        toggleFullscreen={handleFullscreenToggle}\n      />\n      <div className={classNames(classes.panel, \"theme-dark\")}>\n        <Sidebar\n          routes={routes.items}\n          opened={opened}\n          toggleDrawer={handleDrawerToggle}\n        />\n        <Workspace opened={opened}>{getRoutes}</Workspace>\n        <NotificationCenter\n          notificationsOpen={notificationsOpen}\n          toogleNotifications={handleNotificationToggle}\n        />\n      </div>\n\n      <Hidden xsDown>\n        <SpeedDial\n          ariaLabel=\"Settings\"\n          className={classes.speedDial}\n          icon={<SpeedDialIcon icon={<SettingsIcon />} />}\n          onBlur={handleSpeedDialClose}\n          onClose={handleSpeedDialClose}\n          onFocus={handleSpeedDialOpen}\n          onMouseEnter={handleSpeedDialOpen}\n          onMouseLeave={handleSpeedDialClose}\n          open={openSpeedDial}\n        >\n          <SpeedDialAction\n            icon={<WbSunnyIcon />}\n            tooltipTitle=\"Toggle light/dark theme\"\n            onClick={() => dispatch({ type: \"type\" })}\n          />\n          <SpeedDialAction\n            icon={\n              state.direction === \"rtl\" ? (\n                <FormatTextdirectionLToRIcon />\n              ) : (\n                <FormatTextdirectionRToLIcon />\n              )\n            }\n            tooltipTitle=\"Toggle LTR/RTL direction\"\n            onClick={() => dispatch({ type: \"direction\" })}\n          />\n        </SpeedDial>\n      </Hidden>\n    </>\n  );\n};\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}